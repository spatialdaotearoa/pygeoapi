<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta property="og:title" content="pygeoapi - An OGC API for geospatial data" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://pygeoapi.io/presentation" />
		<meta property="og:image" content="https://pygeoapi.io/presentation/static/pygeoapi_intro.png" />
		<meta property="og:image:url" content="https://pygeoapi.io/presentation/static/pygeoapi_intro.png" />
		<meta property="og:image:type" content="image/png" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:description" content="pygeoapi is a Python server implementation of the OGC API suite of standards. The project emerged as part of the next generation OGC API efforts in 2018 and provides the capability for organizations to deploy an RESTful OGC API endpoint using OpenAPI, GeoJSON, and HTML. pygeoapi is open source and released under an MIT license." />
		<title>pygeoapi - An OGC API to geospatial data</title>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement('link');
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName('head')[0].appendChild(link);
		</script>
		<link href="https://fonts.googleapis.com/css?family=Roboto:400i" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Exo+2:200i" rel="stylesheet">
		<link rel="stylesheet" href="css/fullscreen-img.css">

		<style type="text/css">
			.reveal section img {
				background: none;
				border: none;
				box-shadow: none;
			}
			
			.reveal pre code {
				max-height: 600px;
			}
			
			.reveal code {
				font-size: 75%;
			}
			
			.reveal h1 {
				font-family: 'Roboto', sans-serif;
				font-size: 2.0em;
			}
		</style>
	</head>
	<body>
	<div class="reveal">
		<div class="slides">
			<section id="frontpage">
				<h1 style="background-color:white"><img src="../static/pygeoapi-logo-notrans.png" style="vertical-align: middle;"/></h1>
				<h2>An OGC API to geospatial data</h2>
				<p><a href="https://pygeoapi.io">https://pygeoapi.io</a></p>
			</section>
			<section id="table-of-contents">
				<h1>Table of contents</h1>
				<ul>
					<li>Geospatial API evolution</li>
					<li>REST/JSON/OpenAPI/Swagger</li>
					<li>OGC activity</li>
					<li>Say hello to pygeoapi</li>
					<li>History</li>
					<li>Features</li>
					<li>Installation</li>
					<li>Deployments</li>
					<li>Community</li>
					<li>Support</li>
				</ul>
			</section>
			<section id="geospatial-api-evolution">
				<section>
					<h1>Geospatial API evolution</h1>
				</section>
				<section>
					<h1>1990s</h1>
					<ul>
						<li>Spirit of XML-RPC/CORBA</li>
						<li>SOAP/WSDL/UDDI</li>
						<li>Service Oriented Architecture (SOA)</li>
						<li>Strong concept of RDBMS as the backend</li>
						<li>OGC WMS (1999)</li>
					</ul>
				</section>
				<section>
					<h1>2000s</h1>
					<ul>
						<li>Web 2.0</li>
						<li>JavaScript/AJAX/Google Maps</li>
						<li>Slippy maps, tiles</li>
						<li>OGC WFS (2002), WCS (2003), WPS (2005), CSW (2007)</li>
					</ul>
				</section>
				<section>
					<h1>Realities of OGC web services</h1>
					<ul>
						<li>Key Value Parameters (KVP) or XML encodings</li>
						<li>Requests using HTTP GET, HTTP POST and SOAP</li>
						<li>Responses as XML (GML)</li>
						<li>Error handling as custom <i>ExceptionReport</i> within an HTTP 200 response</li>
						<li>Exhaustive specifications/requirements</li>
					</ul>
				</section>
				<section data-markdown>
					<h1>Sample response from an OGC WFS 1.0/2.0 service</h1>
					<textarea data-template>
						```xml
						<wfs:FeatureCollection 
							xmlns:ms="http://mapserver.gis.umn.edu/mapserver"
							xmlns:gml="http://www.opengis.net/gml" [..]>
							<gml:boundedBy>
								<gml:Envelope srsName="EPSG:32661">[..]
								</gml:Envelope>
							</gml:boundedBy>
							<gml:featureMember>
								<ms:north_poles_wfs gml:id="north_poles_wfs.0">
									<gml:boundedBy>[..]</gml:boundedBy>
									<ms:msGeometry>[..]</ms:msGeometry>
									<ms:Id>0</ms:Id>[..] 
							</gml:featureMember>[..]
						</wfs:FeatureCollection>
						```
					</textarea>
				</section>
				<section>
					<h3>More realities</h3>
					<img src="static/ldproxy.jpeg"/>
					<ul>
						<li>Complex machinery/architectures (e.g. ldproxy) for services to be crawlable</li>
						<li>Challenging for web developers to implement</li>
						<li>Challenging for mainstream web integration (search indexing)</li>
					</ul>
				</section>
			</section>
			<section id="rest-json-openapi-swagger">
				<section>
					<h1>REST/JSON/OpenAPI/Swagger</h1>
				</section>
				<section>
					<h1>REST</h1>
					<ul>
						<li>REpresentational State Transfer (REST)</li>
						<li>HTTP verbs (GET/PUT/POST/DELETE)</li>
						<li>HTTP codes (200, 201, 404, etc.)</li>
						<li>Uses URI to identify resources </li>
						<li>Content negotiation (media types)</li>
						<li>Stateless</li>
					</ul>
				</section>
				<section>
					<h1>JSON</h1>
					<ul>
						<li>JavaScript Object Notation</li>
						<li>Easy to write and understand</li>
						<li>Very popular among web developers</li>
						<li>JSON is first class in RESTful web services</li>
						<li>No rigid standards (for better or worse)</li>
					</ul>
				</section>
				<section>
					<h1>OpenAPI</h1>
					<ul>
						<li>Specification on how to describe a REST API</li>
						<li>Defines endpoints, request parameters, response</li>
						<li>Programming language agnostic</li>
						<li>Formerly Swagger</li>
					</ul>
				</section>
				<section data-markdown>
					<textarea data-template>
						```json
						"info": {
							"contact": {
								"email": "you@example.org",
								"name": "pygeoapi Development Team",
								"url": "https://pygeoapi.io"
							},
							"description": "pygeoapi provides an API to geospatial data",
							"license": {
								"name": "CC-BY 4.0 license",
								"url": "https://creativecommons.org/licenses/by/4.0/"
							},
							"termsOfService": "None",
							"title": "pygeoapi Demo instance - running latest GitHub version",
							"version": "3.0.2",
							"x-keywords": [
								"geospatial",
								"data",
								"api"
							]
						},
						"openapi": "3.0.2",
						```
					</textarea>
				</section>
				<section>
					<h1>Swagger</h1>
					<ul>
						<li>OpenAPI client tooling</li>
						<li>Robust, web developer focused</li>
						<li>Automated documentation, testing, code generation</li>
					</ul>
				</section>
			</section>
			<section id="ogc-activity">
				<section>
					<h1>OGC activity</h1>
				</section>
				<section>
					<h1>W3C Spatial Data on the Web Best Practices (2017)</h1>
					<ul>
						<li>Recommendations on formats, identifiers, access, licensing, provenance</li>
						<li>Being webby</li>
						<li>https://www.w3.org/TR/sdw-bp/</li>
					</ul>
				</section>
				<section>
					<h1>Design patterns</h1>
					<ul>
						<li>Being webby</li>
						<li>Removing HTTP use as a tunnel
							<ul>
								<li><strike>/ows?request=GetFeature&typename=roads&featureid=5</strike></li>
								<li>/api/collections/roads/items/5</li>
							</ul>
						</li>
						<li>
							Modular specification development
							<ul>
								<li>Core and extensions</li>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<h1>Timeline</h1>
					<ul>
						<li>2017: W3C Spatial Data on the Web Best Practices</li>
						<li>2017: OGC API Whitepaper</li>
						<li>2018: WFS3 Hackathon, Weather on the Web API Hackathon</li>
						<li>2019: OGC API Hackathon</li>
					</ul>
				</section>
				<section>
					<h1>Future OGC standards</h1>
					<ul>
						<li>OGC API - Common (OWS Common)</li>
						<li>OGC API - Features (WFS)</li>
						<li>OGC API - Coverages (WCS)</li>
						<li>OGC API - Maps and Tiles (WMS/WMTS)</li>
						<li>OGC API - Processing (WPS)</li>
						<li>OGC API - Records (CSW)</li>
					</ul>
				</section>
				<section>
					<h1>OGC activity on GitHub</h1>
					<ul>
						<li>webby</li>
						<li>Specification development</li>
						<li>Issue tracking/discussion/collaboration</li>
						<li>Standards written in AsciiDoc (!)</li>
						<li>Standards released as HTML (!) or traditional PDF/etc.</li>
						<li>Gitter chat</li>
					</ul>
				</section>
			</section>
			<section id="pygeoapi">
				<section>
					<h1>Say hello to pygeoapi</h1>
					<h1 style="background-color:white"><img src="../static/pygeoapi-logo-notrans.png" style="vertical-align: middle;"/></h1>
					<ul>
						<li><a href="https://geopython.github.io" target="_blank"><img width="60" height="60" src="static/geopython.png" alt="geopython.github.io" style="background: white; border-radius: 10px"/></a> A <a href="https://geopython.github.io">Geopython</a> project</li>
						<li>Created in 2018 on Valentines Day ❤️ </li>
					</ul>
				</section>
				<section>
					<h1>Project Overview</h1>
					<ul>
						<li>Geospatial data API framework</li>
						<li>OGC Compliant (already!)</li>
						<li>OSGeo Community Project</li>
						<li>International team (Canada, Netherlands, Greece)
						<li>International team (Canada, Netherlands, Greece)
							<ul>
								<li>13 core contributors</li>
								<li>21000 upstream contributors (dependencies)</li>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<h1>Technical Overview</h1>
					<ul>
						<li>Core abstract API; web framework agnostic (default Flask)</li>
						<li>YAML configuration (metadata, dataset connections</li>
						<li>Automated OpenAPI document generation (data binding)</li>
						<li>Robust plugin framework (data connections, formats, processing)</li>
						<li>Easy deployment (pip install, Docker)</li>
						<li>Minimal dependencies</li>
					</ul>
				</section>
				<section>
					<img src="static/pygeoapi-arch1.png" style="background: white; border-radius: 10px"/>
				</section>
				<section>
					<h1>Data Providers</h1>
					<table>
						<tbody>
							<tr>
								<td><img src="static/elastic_search.png" /></td>
								<td><img src="static/csv_file.jpg" /></td>
								<td><img src="static/spaltiallite.jpg" /></td>
								<td><img src="static/geojson-logo.png" /></td>
							</tr>
							<tr>
								<td align="center">Elasticsearch</td>
								<td align="center">CSV</td>
								<td align="center">Spatialite*</td>
								<td align="center">GeoJSON*</td>
							</tr>
						</tbody>
					</table>
					<p>* also via GDAL-OGR Provider</p>
				</section>
				<section>
					<h2>Data Providers - GDAL/OGR</h2>
					<img src="static/gdal.png" />
					<ul>
						<li>Via OGR-Python bindings</li>
						<li>Unleashes <a href="https://gdal.org/drivers/vector/" target="_blank">~100 Vector Formats!</a> (WFS 1/2, GeoPackage, Shapefile, GeoJSON, PostGIS, ...)</li>
						<li>Paging, reprojection, spatial/attribute query</li>
						<li>==> unlock existing WFS 1/2s!</li>
					</ul>
				</section>
				<section>
					<p>
						<a href="https://pygeoapi.io" target="_blank">https://pygeoapi.io</a>
					</p>
					<img src="static/pygeoapi.io.png" alt="image pygeoapi site"/>
				</section>
			</section>
				<section>
					<h3>Demo</h3>
					<p>
						<a href="https://demo.pygeoapi.io/master/" target="_blank"><img src="static/pygeoapi-demo-1.png" alt="pygeoapi-demo img" style="background: white; border-radius: 10px"/></a>
					</p>
				</section>
				<section> <!-- road map -->
					<h2>pygeoapi - Roadmap</h2>
					<ul>
						<li>More data providers</li>
						<li>Content negotiation (e.g. Response as GeoPackage, GML,...)</li>
						<li>Advanced filters (CQL) </li>
						<li>More OGC APIs: Maps, Tiles, Coverages, Processes</li>
					</ul>
				</section>
				<section>
					<h2>pygeoapi - Links</h2>
					<ul>
						<li>Home: <a href="https://pygeoapi.io" target="_blank">https://pygeoapi.io</a></li>
						<li>Demo: <a href="https://demo.pygeoapi.io" target="_blank">https://demo.pygeoapi.io</a></li>
						<li>GitHub: <a href="https://github.com/geopython/pygeoapi" target="_blank">https://github.com/geopython/pygeoapi</a></li>
						<li>Docker: <a href="https://hub.docker.com/r/geopython/pygeoapi" target="_blank">https://hub.docker.com/r/geopython/pygeoapi</a></li>
						<li>Chat: <a href="https://gitter.im/geopython/pygeoapi" target="_blank">https://gitter.im/geopython/pygeoapi</a></li>
						<li>Mail: <a href="https://lists.osgeo.org/mailman/listinfo/pygeoapi" target="_blank">https://lists.osgeo.org/mailman/listinfo/pygeoapi</a></li>
					</ul>
				</section>
			</section>
			<!-- end of pygeoapi -->

			<!--  Start of docker section -->
			<section>
				<section>
				<h2>VII. Docker and pygeoapi</h2>
				</section>
			<section data-markdown>
			<textarea data-template>
			![alt text](static/docker.png "Docker logo")
			
			- pygeoapi Docker Images on DockerHub: <a href="https://hub.docker.com/r/geopython/pygeoapi">Link</a>
			- Images create linux containers running content
			- Use Docker Images to test locally or deploy in server
			- See READMEs
			</textarea>
			</section>
			<section>
				<p><img src="static/docker_hub.png"/></p>


				<a href="https://hub.docker.com/r/geopython/pygeoapi">Docker Images for geopython/pygeoapi</a>
			</section>
		     	
		  <section data-markdown>
					<textarea data-template>
			## Up and Running in 2 Minutes
			Pull from DockerHub
			```
			docker pull geopython/pygeoapi:latest
			``` 
			Run (default config)
			```
			docker run -p 5000:80 -it geopython/pygeoapi:latest

			```
			Test:
			```
			http://localhost:5000
			http://localhost:5000/collections
			http://localhost:5000/collections/lakes/items?limit=2
			http://localhost:5000/collections/lakes/items?f=html
			```
			</textarea>
				</section>
				<section>
					<h2>Docker - Next</h2>
					<ul>
						<li>Custom config via Docker Volume Mapping</li>
						<li>Run with Docker Compose</li>
						<li>Subpath running via Flask "SCRIPT_NAME" env var</li>
						<li>Examples in <a href="https://github.com/geopython/pygeoapi/tree/master/docker/examples">pygeoapi GitHub</a></li>
					</ul>
				</section>
				<section data-markdown>
					<textarea data-template>
			![alt text](static/docker.png "Docker logo")
			- Dockerhub image without Elasticsearch 
			- Docker-compose for Elasticsearch in github
			- Easy to scale pygeoapi with docker swarm
			</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
			![alt text](static/docker_scale.png "Docker scale")
			
			- Cloud clustering with high availability
			
			</textarea>
				</section>
			</section><!-- end of docker section -->

			<section> <!-- production usage -->
				<section>
				<h2>VIII. pygeoapi in Production</h2>
				</section>

			<section data-markdown>
				<textarea data-template>
				(Some) Production instances of pygeoapi
				![alt text](static/geopython.png "Geopython")
				
				Contact: [@tomkralidis](https://twitter.com/tomkralidis)
				</textarea>
			
			</section>
			<section>
			<img src="static/Canada_Hydat.png">
			<a href="http://bit.do/hydat">http://bit.do/hydat</a>
			<p align="center">Canadian National Water Data Archive</p>
			</section>
			<section data-markdown>
			<textarea data-template>
			numberMatched:	60 770 985
			```
			http://geo.weather.gc.ca/geomet-beta/features/collections/
			hydrometric-daily-mean/items?resulttype=hits 
			```
			100 Features
			```
			http://geo.weather.gc.ca/geomet-beta/features/collections/
			hydrometric-daily-mean/items?limit=100
			```
			Fetching 1 feature (200ms)
			```
			http://geo.weather.gc.ca/geomet-beta/features/collections/
			hydrometric-daily-mean/items/10SB001.1992-01-11
			```
			</textarea>
			</section>
			
			</section><!-- End Production instances -->

			<section>
				<section>
				<h2>IX. STAC</h2>
				</section>
			<section data-markdown><!--  STAC section -->
				<textarea data-template>
				### SpatioTemporal Asset Catalog (STAC)
				- Simple catalog of spatiotemporal items (JSON) 
				- (stac != csw || csw => stac)
				- More oriented for sat imagery
				- Parallel work to WFS 3.0
				- Pull from storages like S3
				- Geospatial assets openly searchable and crawlable
				
				</textarea>
			</section>
			<section>
			<img src="static/stac.png">
			  <a href="https://github.com/radiantearth/stac-spec" target="_blank">https://github.com/radiantearth/stac-spec</a> 
			</section>
			<section data-markdown>
			<textarea data-template>
			### LandSat8 - Stac Example
			```json
			{
  "id": "LC81530252014153LGN00",
  "type": "Feature",
  "bbox": [ 49.16354,72.27502,51.36812,75.67662
        ],
  "geometry": {
    "type": "MultiPolygon",
"coordinates": [..]
			
			```
			</textarea>
			</section>
			<section data-markdown>
			<textarea data-template>
			### LandSat8 - Stac Example
			```json
			"properties": {
				"datetime": "2014-06-02T09:22:02Z",
				"provider": "USGS",
				"eo:gsd": 30.0,
				"eo:cloud_cover" : 10,
				"eo:off_nadir" : 0.000,
				"eo:azimuth": 0.00,
				"eo:sun_azimuth" : 149.01607154,
				"eo:sun_elevation" : 59.21424700,
		  }
			```
			</textarea>
			</section >
			<section data-markdown>
						<textarea data-template>
			### LandSat8 - Stac Example
			```json
  "assets" :{
    "thumbnail": {
          "href": "http://landsat[..]/LC81530252014153LGN00_thumb_large.jpg",
          "required": true,
          "type": "jpeg"
    },
    "metadata": {
      "href": "http://landsat[..]LC81530252014153LGN00_MTL.txt",
      "required": true,
      "type": "mtl"
},
		  }
			```
			</textarea>
			</section>
			
			</section><!--  end of STAC section -->
			<section>
				<section>
				<h2>X. pygeoapi Support</h2>
				</section>

				<section>
					<img src="static/Geocat.jpg" style="border-radius: 10%; max-width: 50%; max-height: 50%;"/>
					<br/>
					<p>Need support for WFS3.0???</p>
					<p><a href="http://geocat.net" target="_blank">@Geocat</a> can help you</p>
					<img src="static/geocat-banner.png" style="background-color: white; max-width: 50%; max-height: 50%">
				</section>

				<section>
					<a href="https://justobjects.nl" target="_blank">
						<img src="static/justobjects.jpg" style="border-radius: 10%; max-width: 60%; max-height: 60%;"/></a>
					<br/>
					<p><a href="https://justobjects.nl" target="_blank">justobjects.nl</a></p>
				</section>
			</section>
		</div>
		<!--  end of slide presentation -->

	</div>
	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			slideNumber : true,
			history: true,
			dependencies : [ {
				src : 'plugin/markdown/marked.js'
			}, {
				src : 'plugin/markdown/markdown.js'
			}, {
				src : 'plugin/fullscreen/fullscreen-img.js'
			}, {
				src : 'plugin/notes/notes.js',
				async : true
			}, {
				src : 'plugin/highlight/highlight.js',
				async : true,
				callback : function() {
					hljs.initHighlightingOnLoad();
				}
			} ]
		});
	</script>
</body>
</html>
